# File: .github/workflows/main.yml

name: Main Workflow

on:
  schedule:
    - cron: '15 12 * * *'  # 11:53 AM UTC = 5:30 PM IST
  workflow_dispatch:

jobs:
  first-job:
    uses: praveenjp12/cypress-project/.github/workflows/reusable-workflow.yml@main
    with:
      name: "Report1"
      runcommand: "npx cypress run --env allure=true --browser chrome"

  second-job:
    needs: first-job              # Wait for first-job
    if: always()        
    uses: praveenjp12/cypress-project/.github/workflows/reusable-workflow.yml@main
    with:
      name: "Report2"
      runcommand: "npx cypress run --env allure=true"
